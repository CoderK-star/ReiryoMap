<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<link rel="icon" href="images/Reitaku.jpg">
	<title>Reitaku University Map</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- MapLibre GL JS CSS -->
	<link href="https://unpkg.com/maplibre-gl@3.6.1/dist/maplibre-gl.css" rel="stylesheet" />
	<style>
		body,
		html {
			height: 100%;
			margin: 0;
			padding: 0;
		}

		#map {
			width: 100vw;
			height: 100vh;
		}

		/* Ensure custom zoom buttons are always on top */
		#zoom-in-btn,
		#zoom-out-btn {
			box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
			transition: 0.2s;
		}

		#zoom-in-btn:hover,
		#zoom-out-btn:hover {
			background: #f0f0f0;
		}

		#header-bar {
			position: absolute;
			top: 0;
			left: 0;
			width: 100vw;
			background: #3b6663;
			/* Match sidepanel green */
			color: #fff;
			text-align: center;
			padding: 12px 0 4px 0;
			z-index: 10;
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
		}

		#header-bar h1 {
			margin: 0;
			font-size: 2em;
			font-weight: bold;
			letter-spacing: 0.1em;
		}

		#header-bar p {
			margin: 0;
			font-size: 1em;
			letter-spacing: 0.08em;
		}

		#map {
			position: absolute;
			top: 64px;
			left: 0;
			width: 100vw;
			height: calc(100vh - 64px);
		}

		#sidepanel {
			position: absolute;
			top: 0;
			/* Cover the header */
			right: 0;
			width: 320px;
			height: 100vh;
			/* Cover the header */
			background: #3b6663;
			/* Green background */
			color: #ffffff;
			/* white text */
			z-index: 20;
			box-shadow: -2px 0 8px rgba(0, 0, 0, 0.12);
			padding: 24px 20px 20px 20px;
			overflow-y: auto;
			transition: transform 0.2s;
		}

		#sidepanel-content {
			margin-top: 24px;
			word-break: break-word;
		}

		#footer-search {
			position: fixed;
			bottom: 0;
			left: 0;
			width: 100vw;
			background: #fff;
			border-top: 1px solid #ccc;
			display: flex;
			justify-content: center;
			align-items: center;
			padding: 8px 0 8px 0;
			z-index: 50;
			box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.06);
		}

		#footer-search input[type="text"] {
			width: 220px;
			padding: 8px 12px;
			border: 1px solid #bbb;
			border-radius: 4px 0 0 4px;
			font-size: 1em;
			outline: none;
		}

		#footer-search button {
			background: #f6f6f6;
			border: 1px solid #bbb;
			border-left: none;
			border-radius: 0 4px 4px 0;
			padding: 7px 12px 7px 10px;
			cursor: pointer;
			display: flex;
			align-items: center;
			transition: 0.2s;
		}

		#footer-search button:hover {
			background: #e0e0e0;
		}

		#footer-search svg {
			display: block;
		}

		/* Position geolocate button above header */
		.maplibregl-ctrl-top-right {
			top: 8px !important;
			right: 8px !important;
			z-index: 100 !important;
		}

		@media (max-width: 600px) {
			#sidepanel {
				width: 90vw;
				padding: 16px 8px 8px 8px;
			}

			#footer-search input[type="text"] {
				width: 120px;
				font-size: 0.95em;
			}
		}
	</style>
</head>

<body>
	<div id="header-bar">
		<h1>麗陵祭マップ</h1>
		<p>Reiryo Map</p>
	</div>
	<div id="map"></div>
	<!-- Search bar footer -->
	<div id="footer-search">
		<input type="text" id="search-input" placeholder="検索..." />
		<button id="search-btn" title="検索">
			<svg width="20" height="20" viewBox="0 0 20 20">
				<circle cx="9" cy="9" r="7" stroke="#3b6663" stroke-width="2" fill="none" />
				<line x1="15" y1="15" x2="19" y2="19" stroke="#3b6663" stroke-width="2" stroke-linecap="round" />
			</svg>
		</button>
	</div>
	<script src="js/getdata.js"></script>
	<script src="js/map.js"></script>
	<!-- MapLibre GL JS -->
	<script src="https://unpkg.com/maplibre-gl@3.6.1/dist/maplibre-gl.js"></script>
</body>

</html>
